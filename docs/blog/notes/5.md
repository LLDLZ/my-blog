# 纯函数

## 什么是纯函数
纯函数的维基百科定义：
- 在程序设计中，若一个函数符合以下条件，那么这个函数被称为纯函数：
- 此函数在相同的输入值时，产生相同的输出；
- 函数的输出与输入值以外的其他隐藏信息或状态无关，也和由I/O设备产生的外部输出无关；
- 该函数不能有语义上可观察的函数副作用，诸如“触发事件”，是输出设备输出，或更改输出值以外物件的内容。

> 总结：
> - 确定的输入，一定会产生确定的输出；
> - 函数在执行过程中，不能产生副作用。 

### 输出依赖输入
```js
let a = 1;
const foo = (b)=> a + b
foo(2)
// 3
```

该函数的输出会受到变量 a 的影响。来看看什么是纯函数

```js
const foo = (x,y) => x + y 
foo(1,2)
// 3
```
函数 foo 的输出是完全依赖输入参数，输入是固定值，输出值也是固定值。这就是纯函数依赖的第一个条件，输出完全依赖输入。

### 函数的副作用

```js
const foo = (obj,y)=>(obj.x + y)

const obj = { x:1 }

foo(obj,1)
//2
```
此时输出是完全依赖输入的且没有任何影响。对函数 foo 稍加改造一下
```js
const foo = (obj,y)=>{
    obj.x = 2 
    return obj.x+y
}

const obj = { x:1 }

foo(obj,1)
//3
```
此时的 foo 修改了参数 obj 的值，此时该函数就不是纯函数了。