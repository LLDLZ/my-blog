# Linux 保姆级教程

## Linux 文件系统
> 1.Linux一切皆文件
> 
>2.只有一个顶级目录，不像windows分C盘、D盘、E盘

## 目录结构
<img :src="$withBase('/assets/img/blog/linux/linux1.png')">

## 文件含义
| Linux |                                                含义                                                |                                           windows |
| :---- | :------------------------------------------------------------------------------------------------: | ------------------------------------------------: |
| /bin  |                                  所有用户可用的基本命令存放的位置                                  |                     windows没有固定的命令存放目录 |
| /sbin |                                    需要管理员权限才能使用的命令                                    |                                                   |
| /boot |                              linux系统启动的时候需要加载和使用的文件                               |                                                   |
| /dev  |                               外设连接linux后，对应的文件存放的位置                                |              类似Windows中的U盘，光盘的符号文件。 |
| /etc  |                            存放系统或者安装的程序的配置文件,注册服务等                             |                           类似windows中的注册表， |
| /home |                家目录，linux中每新建一个用户，会自动在home中为该用户分配一个文件夹                 | 类似windows中的"我的文档"，每个用户有自己的目录。 |
| /root |                                 root账户的家目录，仅供root账户使用                                 |      类似windows中的Administrator账户的"我的文档" |
| /lib  | linux的命令和系统启动，需要使用一些公共的依赖，放在lib中，类似我们开发的代码执行需要引入的jdk的jar |                                                   |
| /usr  |                                     很多系统软件的默认安装路径                                     |         类似windows中的C盘下的Program Files目录。 |
| /var  |                           系统和程序运行产生的日志文件和缓存文件放在这里                           |                                                   |

## 文件管理命令
> 注意大小写

### 查看文件列表
```bash
# 查看文件列表
	ls [-参数1参数2] [目标文件夹]
# 查看当前目录下的文件列表
	ls
# 查看指定目录下的文件
	ls /
# 查看详细信息，元数据信息(用户、组、大小、创建时间、权限信息、文件类型)
	ls -l
# 查看隐藏文件
	ls -a 
# 参数并用
	ls -la
```

### 切换目录
```bash
# 2. 切换目录
	cd 目标文件夹
# 绝对路径切换
	cd 绝对路径
# 相对路径切换
	cd 相对路径
# 例子：切换到/etc/sysconfig/networks-scripts 目录下
```

### 查看当前命令所在的目录
```bash
[root@centos7 network-scripts]# pwd
/etc/sysconfig/network-scripts
# 特殊目录符号
	~ 当前用户的home目录
	. 当前目录
	.. 上一级目录
```

### 新建文件夹及文件
```bash
# 在当前位置新建文件夹
	mkdir 文件夹名
# 在指定目录位置，创建文件夹，并创建父文件夹
	mkdir -p /a/b/文件夹名
# 在当前目录下新建文件
	touch 文件名

```

### 删除文件
```bash
# 删除文件
	rm 文件
# 删除文件夹
	rm -r 文件夹
# 强制删除不询问
	rm -rf 文件
```

### 拷贝文件
```bash
# 拷贝文件
	cp 原文件  新文件
# 拷贝文件夹
	cp -r 源文件夹 新文件夹
```

### 移动文件或修改文件名
```bash
# 移动源文件到目标文件夹中
	mv 文件  文件夹
# 修改文件A的名字为文件B
	mv 文件A 文件B
```
### 获取文件的md5指纹(数字签名)
```bash
md5sum 文件名
# 简介
1. 数字签名，又称数字指纹
2. 可以验证文件是否被修改
3. 一个文件通过计算得到的一串字符串,文件内容的唯一标记(文件内容不变,指纹不会变)
```

### 文本内容查看命令
```bash
# 查看文件中的全部信息(适合查看小文档)
	cat 文件名

# 以分页的方式浏览文件信息(适合查看大文档)，进入浏览模式
	less 文件名
# 浏览模式快捷键
	↑ #上一行
    ↓ #下一行
    G #最后一页
    g #第一页
    空格 #下一页
    /关键词 #搜索关键词
# 退出浏览模式，回到Linux命令行模式
    q #退出


# 实时滚动显示文件的最后10行信息(默认10行)
tail -f 文件名
# 显示文件的最后20行信息
tail -n 20 文件名
tail -n -20 文件名
# 显示文件信息从第20行至文件末尾
tail -n +20 文件名
```

### 文件查找
```bash
## 文件名查找
# 语法
	find 搜索路径 -name "文件名关键词"
# 例子
	find / -name "passwd"
	find / -name "ifcfg-*"

## 文件内容查找
# 语法
	grep -参数 要查找的目录范围
	# 参数
	-n 显示查找结果所在行号
	-R 递归查找目录下的所有文件
# 例子
	grep aries /etc
	grep aries /etc/passwd
	
```

### 系统管理
```bash
# 静态查看系统进程
	ps -aux
# 实时查看系统进程
	top
	# 快捷键
		↑ 下翻
		↓ 上翻
		q 退出
# 关闭进程
	kill 进程id 
# 强制关闭进程(谨慎使用)
	kill -9 进程id
```
### 输出
```bash
# 覆盖输出

# 将命令1的执行结果，输出到后面的文件中。
`覆盖写入`
	命令1 > 文件
# 例子
	date > date.log

# 追加输出

# 将命令1的执行结果，输出到后面的文件中。
`追加写入`
	命令1 >> 文件
# 例子
	date >> date.log
```
### 用户
```bash
1. 创建用户
  `useradd -g 组名 用户名`
2. 设置密码
  `passwd 用户名`
3. 查找系统账户
  说明：系统每个用户信息保存在`/etc/passwd`文件中
4. 切换用户
  `su 用户名`
5. 删除用户
  `userdel -r 用户名`

```

### 权限

| 权限字母 | 含义  |            对文件             |          代表命令          |         对文件夹         | 代表命令 |
| :------- | :---: | :---------------------------: | :------------------------: | :----------------------: | -------: |
| R®       |  读   |    查看文件内容和复制文件     | more cat less cp head tail |    查看文件夹下的文件    |       ls |
| W(w)     |  写   |           编辑文件            |             vi             | 在文件夹内创建和删除文件 | rm touch |
| X(x)     | 执行  | 执行该文件(执行必须具备r权限) |             -              |       切换到文件夹       |       cd |


### 权限访问控制列表
<img :src="$withBase('/assets/img/blog/linux/linux2.png')">

```bash
# 查看权限

ls -la 文件
ll 文件

# 设置文件所有者
语法：chown [-R] user名:group名 文件名
参数：-R 如果是文件夹，需要使用这个参数，可以将文件夹及其内部所有文件的所有者和组全部修改
注意：命令权限需要root
## 修改文件所有者
	chown 用户名 文件名
## 修改文件所属组
	chown :组名 文件名
## 修改文件所有者和所属组
	chown 用户名:组名 文件名
## 修改文件夹的所有者和所属组
	chown [-R] 用户名:组名 文件夹

# 权限设置1
语法：chmod u±rwx,g±rwx,o±rwx 文件名
运算符：
	- 删除权限
	+ 添加权限
	= 赋值权限
## 给文件的所有者添加执行权限
chmod u+x 文件名
## 给文件的其他人删除所有权限
chmod o-rwx 文件名
## 给文件的所属组设置读写权限
chmod g=wx 文件名

# 文件的每个归属方的权限的值使用rwx之和计算出来的。
# 语法
	`chmod [-R] nnn 文件` 
	-R 递归设置文件夹内所有文件
# 设置文件的权限为(所有者可读可写可执行，所属组可读可写，其他人可读)
	chmod 764 文件名
```